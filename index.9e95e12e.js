function e(e,t,n,r){Object.defineProperty(e,t,{get:n,set:r,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},n={},r={},s=t.parcelRequired5d1;null==s&&((s=function(e){if(e in n)return n[e].exports;if(e in r){var t=r[e];delete r[e];var s={id:e,exports:{}};return n[e]=s,t.call(s.exports,s,s.exports),s.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){r[e]=t},t.parcelRequired5d1=s),s.register("bXuNP",(function(t,n){var r,s;e(t.exports,"register",(()=>r),(e=>r=e)),e(t.exports,"resolve",(()=>s),(e=>s=e));var a={};r=function(e){for(var t=Object.keys(e),n=0;n<t.length;n++)a[t[n]]=e[t[n]]},s=function(e){var t=a[e];if(null==t)throw new Error("Could not resolve bundle with id "+e);return t}})),s("bXuNP").register(JSON.parse('{"k3gER":"index.9e95e12e.js","fVoZR":"flag.023f0ba8.svg","flQIa":"mine.71fdbfa2.svg"}')),s.register("jfHJw",(function(t,n){e(t.exports,"default",(()=>c));var r=s("eBuhp");const a=new URL(s("b9SRC")),i=new URL(s("ebBIP"));class o{gameField;currentMatrix;newGameButton;gameOverButton;gameTimer;minesCount;constructor(e){this.gameField=e,this.currentMatrix=[],this.newGameButton=document.getElementById("start-game"),this.gameOverButton=document.getElementById("game-over"),this.gameWinButton=document.getElementById("game-win"),this.minesCount=document.getElementById("mines-count"),this.gameTimer=document.getElementById("game-timer")}init(e,t){this.currentMatrix=e,o.generateGameField(e,this.gameField),this.setFlagCount(t);const n=()=>{const e=new CustomEvent("start-new-game",{bubbles:!0});this.newGameButton.dispatchEvent(e)};this.newGameButton.addEventListener("click",n),this.gameOverButton.addEventListener("click",n),this.gameWinButton.addEventListener("click",n)}render(e,t){const{currentMatrix:n}=this;e.forEach(((e,t)=>{e.forEach(((e,s)=>{if(n[t][s]!==e){const n=r.stringifyCoords(s,t),a=document.getElementById(n);this.updateElement(a,e)}}))})),this.setFlagCount(t),this.currentMatrix=e}updateElement(e,t){switch(t){case 0:e.innerText="",e.setAttribute("class","game-cell empty-cell");break;case 1:e.setAttribute("class","game-cell one");break;case 2:e.setAttribute("class","game-cell two");break;case 3:e.setAttribute("class","game-cell three");break;case 10:e.innerHTML="",e.setAttribute("class","game-cell closed-cell");break;case 11:{if(e.innerHTML.length){e.setAttribute("class","game-cell background-green");break}const t=o.createImage(i,"");e.insertAdjacentElement("beforeend",t),e.setAttribute("class","game-cell background-red");break}case 12:{const t=o.createImage(a,"game-flag");e.insertAdjacentElement("beforeend",t);break}default:e.setAttribute("class","game-cell other")}t>0&&t<10&&(e.innerText=t)}gameOver(){o.setStatus(this.gameOverButton,this.newGameButton)}startGame(){o.setStatus(this.newGameButton,this.gameOverButton,this.gameWinButton)}finishGame(){o.setStatus(this.gameWinButton,this.newGameButton)}setTime(e){this.gameTimer.innerText=r.parseTime(e)}setFlagCount(e){if(e<0)return this.minesCount.innerText="000";this.minesCount.innerText=r.fillZero`000${e}`}static createImage(e,t){const n=document.createElement("img");return n.setAttribute("class",t),n.setAttribute("src",e),n}static setStatus(e,...t){t.forEach((e=>e.classList.add("d-none"))),e.classList.remove("d-none")}static createRowComponent(){const e=document.createElement("div");return e.setAttribute("class","game-row"),e}static createCellComponent(e,t){const n=document.createElement("div"),s=r.stringifyCoords(e,t);return n.setAttribute("id",s),n.setAttribute("class","game-cell closed-cell"),n.addEventListener("click",(()=>{const r=new CustomEvent("game-field-left-click",{bubbles:!0,detail:{x:e,y:t}});n.dispatchEvent(r)})),n.addEventListener("contextmenu",(r=>{r.preventDefault();const s=new CustomEvent("game-field-right-click",{bubbles:!0,detail:{x:e,y:t}});n.dispatchEvent(s)})),n}static generateGameField(e,t){e.forEach(((e,n)=>{const r=o.createRowComponent();e.forEach(((e,t)=>{const s=o.createCellComponent(t,n);r.insertAdjacentElement("beforeend",s)})),t.insertAdjacentElement("beforeend",r)}))}}var c=o})),s.register("b9SRC",(function(e,t){e.exports=s("kPq84").getBundleURL("k3gER")+s("bXuNP").resolve("fVoZR")})),s.register("kPq84",(function(t,n){var r;e(t.exports,"getBundleURL",(()=>r),(e=>r=e));var s={};function a(e){return(""+e).replace(/^((?:https?|file|ftp):\/\/.+)\/[^/]+$/,"$1")+"/"}r=function(e){var t=s[e];return t||(t=function(){try{throw new Error}catch(t){var e=(""+t.stack).match(/(https?|file|ftp):\/\/[^)\n]+/g);if(e)return a(e[2])}return"/"}(),s[e]=t),t}})),s.register("ebBIP",(function(e,t){e.exports=s("kPq84").getBundleURL("k3gER")+s("bXuNP").resolve("flQIa")})),s("jfHJw");
//# sourceMappingURL=index.9e95e12e.js.map
